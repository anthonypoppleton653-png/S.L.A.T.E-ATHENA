# Modified: 2026-02-07T09:00:00Z | Author: COPILOT | Change: Create sealed secrets and secret management for K8s
# SLATE Secret Management
# Uses Kubernetes Secrets with encryption-at-rest (recommended: sealed-secrets or external-secrets)
#
# IMPORTANT: This file contains TEMPLATE secrets only.
# In production, use:
#   - Bitnami Sealed Secrets (kubeseal) for GitOps-safe encryption
#   - External Secrets Operator for vault integration
#   - NEVER commit real secrets to Git
---
# GitHub credentials (template â€” populate via kubectl create secret)
apiVersion: v1
kind: Secret
metadata:
  name: slate-github-credentials
  namespace: slate
  labels:
    app.kubernetes.io/name: slate
    app.kubernetes.io/component: security
  annotations:
    slate.io/secret-type: github
    slate.io/managed-by: sealed-secrets
type: Opaque
data: {}
  # Populate with:
  #   kubectl create secret generic slate-github-credentials \
  #     --namespace slate \
  #     --from-literal=GITHUB_TOKEN=<your-token> \
  #     --dry-run=client -o yaml | kubeseal --format yaml > sealed-github-secret.yaml

---
# Ollama configuration (non-sensitive, but isolated for clarity)
apiVersion: v1
kind: ConfigMap
metadata:
  name: slate-config
  namespace: slate
  labels:
    app.kubernetes.io/name: slate
data:
  SLATE_MODE: "prod"
  SLATE_K8S: "true"
  OLLAMA_HOST: "ollama-svc:11434"
  CHROMADB_HOST: "chromadb-svc:8000"
  ANONYMIZED_TELEMETRY: "FALSE"
  # SLATE security settings
  SLATE_BIND_HOST: "127.0.0.1"
  SLATE_ALLOWED_HOSTS: "127.0.0.1,localhost,::1"
  SLATE_BLOCKED_DOMAINS: "api.openai.com,api.anthropic.com,api.cohere.com"
