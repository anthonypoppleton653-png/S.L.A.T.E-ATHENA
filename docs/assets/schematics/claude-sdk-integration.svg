<?xml version="1.0" encoding="UTF-8"?>
<svg width="1050" height="700" viewBox="0 0 1050 700"
     xmlns="http://www.w3.org/2000/svg"
     role="img" aria-label="Claude Code SDK Integration">

  <defs>
    <!-- Background Gradient -->
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0D1B2A;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1B3A4B;stop-opacity:1" />
    </linearGradient>

    <!-- Primary Accent Gradient (Copper) -->
    <linearGradient id="primaryGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#B87333;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D4925A;stop-opacity:1" />
    </linearGradient>

    <!-- Claude Gradient (Warm Rust) -->
    <linearGradient id="claudeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#B85A3C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D4785A;stop-opacity:1" />
    </linearGradient>

    <!-- Security Gradient (Green) -->
    <linearGradient id="securityGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#22C55E;stop-opacity:0.2" />
      <stop offset="100%" style="stop-color:#22C55E;stop-opacity:0.05" />
    </linearGradient>

    <!-- Glow Effect -->
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Drop Shadow -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="4" stdDeviation="4"
                    flood-color="#000000" flood-opacity="0.3"/>
    </filter>

    <!-- Arrow Markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#B87333"/>
    </marker>
    <marker id="arrowhead-claude" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#B85A3C"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22C55E"/>
    </marker>
    <marker id="arrowhead-deny" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#EF4444"/>
    </marker>

    <!-- Grid Pattern -->
    <pattern id="gridPattern" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#1B3A4B" stroke-width="0.5" opacity="0.3"/>
    </pattern>

    <!-- Plugin Pattern -->
    <pattern id="pluginPattern" width="6" height="6" patternUnits="userSpaceOnUse">
      <rect x="0" y="0" width="3" height="3" fill="#B85A3C" opacity="0.1"/>
    </pattern>
  </defs>

  <!-- Background -->
  <rect width="1050" height="700" fill="url(#bgGradient)"/>

  <!-- Grid Overlay -->
  <rect width="1050" height="700" fill="url(#gridPattern)" opacity="0.5"/>

  <!-- Security Zone Background -->
  <rect x="540" y="360" width="470" height="230" rx="12"
        fill="url(#securityGradient)" stroke="#22C55E" stroke-width="1" stroke-dasharray="5,5"/>
  <text x="560" y="385" font-family="'Segoe UI', 'Inter', system-ui, sans-serif"
        font-size="10" font-weight="600" fill="#22C55E" letter-spacing="1">SECURITY LAYER</text>

  <!-- Connections Layer -->
  <g class="connections-layer">
    <!-- Claude Code to Plugin -->
    <path d="M 220 160 L 220 210" fill="none" stroke="#B85A3C" stroke-width="2" marker-end="url(#arrowhead-claude)"/>

    <!-- Plugin to MCP Server -->
    <path d="M 220 310 L 220 360" fill="none" stroke="#B87333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Plugin to Commands -->
    <path d="M 330 260 L 410 260" fill="none" stroke="#B87333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Plugin to Skills -->
    <path d="M 330 280 L 410 310" fill="none" stroke="#B87333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- MCP Server to Hooks -->
    <path d="M 330 410 L 540 410" fill="none" stroke="#B87333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- MCP Server to Tools -->
    <path d="M 330 430 Q 380 430 380 480 L 380 530" fill="none" stroke="#B87333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Hooks to ActionGuard -->
    <path d="M 720 410 L 790 410" fill="none" stroke="#22C55E" stroke-width="2" marker-end="url(#arrowhead-green)"/>

    <!-- ActionGuard Allow path -->
    <path d="M 890 490 L 890 545 Q 890 560 870 560 L 600 560" fill="none" stroke="#22C55E" stroke-width="2" marker-end="url(#arrowhead-green)"/>

    <!-- ActionGuard Deny path -->
    <path d="M 950 450 L 980 450 Q 1000 450 1000 480 L 1000 630" fill="none" stroke="#EF4444" stroke-width="2" marker-end="url(#arrowhead-deny)"/>

    <!-- Tools to Execution -->
    <path d="M 520 560 L 380 560 Q 360 560 360 580 L 360 620" fill="none" stroke="#B87333" stroke-width="2" marker-end="url(#arrowhead)"/>
  </g>

  <!-- Components Layer -->
  <g class="components-layer" filter="url(#shadow)">

    <!-- Claude Code CLI -->
    <g class="component" data-id="claude-code" data-type="claude">
      <rect x="100" y="80" width="240" height="80" rx="10" fill="#3D1E10" stroke="#B85A3C" stroke-width="3"/>
      <rect x="100" y="80" width="240" height="80" rx="10" fill="url(#pluginPattern)"/>
      <circle cx="118" cy="98" r="6" fill="#22C55E" filter="url(#glow)"/>
      <text x="220" y="115" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="16" font-weight="700"
            fill="#E8E2DE">Claude Code</text>
      <text x="220" y="135" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="11"
            fill="#B85A3C">Anthropic CLI Agent</text>
      <text x="220" y="152" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="10"
            fill="#6B7280">claude --plugin-dir /path/to/S.L.A.T.E</text>
    </g>

    <!-- SLATE Plugin -->
    <g class="component" data-id="plugin" data-type="plugin">
      <rect x="100" y="220" width="230" height="90" rx="8" fill="#2A2624" stroke="#B87333" stroke-width="2"/>
      <circle cx="115" cy="235" r="5" fill="#22C55E"/>
      <text x="215" y="252" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="13" font-weight="600"
            fill="#E8E2DE">SLATE Plugin</text>
      <text x="215" y="272" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="10"
            fill="#B87333">.claude-plugin/plugin.json</text>
      <line x1="115" y1="283" x2="315" y2="283" stroke="#1B3A4B" stroke-width="1"/>
      <text x="215" y="300" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9"
            fill="#6B7280">Auto-loads at project scope</text>
    </g>

    <!-- Commands -->
    <g class="component" data-id="commands" data-type="feature">
      <rect x="420" y="220" width="160" height="55" rx="6" fill="#2A2624" stroke="#98C1D9" stroke-width="1"/>
      <circle cx="432" cy="232" r="4" fill="#22C55E"/>
      <text x="500" y="248" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="11" font-weight="600"
            fill="#E8E2DE">Slash Commands</text>
      <text x="500" y="265" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9"
            fill="#98C1D9">/slate:status, /slate:workflow</text>
    </g>

    <!-- Skills -->
    <g class="component" data-id="skills" data-type="feature">
      <rect x="420" y="290" width="160" height="55" rx="6" fill="#2A2624" stroke="#98C1D9" stroke-width="1"/>
      <circle cx="432" cy="302" r="4" fill="#22C55E"/>
      <text x="500" y="318" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="11" font-weight="600"
            fill="#E8E2DE">Agent Skills</text>
      <text x="500" y="335" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9"
            fill="#98C1D9">skills/*/SKILL.md</text>
    </g>

    <!-- MCP Server -->
    <g class="component" data-id="mcp-server" data-type="core">
      <rect x="100" y="370" width="230" height="90" rx="8" fill="#2A2624" stroke="#B87333" stroke-width="3"/>
      <circle cx="115" cy="385" r="6" fill="#22C55E" filter="url(#glow)"/>
      <text x="215" y="405" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="14" font-weight="700"
            fill="#E8E2DE">MCP Server</text>
      <text x="215" y="425" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="10"
            fill="#B87333">slate/mcp_server.py</text>
      <line x1="115" y1="438" x2="315" y2="438" stroke="#1B3A4B" stroke-width="1"/>
      <text x="215" y="455" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9"
            fill="#6B7280">Tool registration + dispatch</text>
    </g>

    <!-- Hooks System -->
    <g class="component" data-id="hooks" data-type="security">
      <rect x="560" y="380" width="160" height="70" rx="8" fill="#1E3A5F" stroke="#22C55E" stroke-width="2"/>
      <circle cx="575" cy="395" r="5" fill="#22C55E"/>
      <text x="640" y="412" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="12" font-weight="600"
            fill="#E8E2DE">PreToolUse Hooks</text>
      <text x="640" y="430" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="10"
            fill="#22C55E">.claude/hooks.json</text>
      <text x="640" y="445" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9"
            fill="#6B7280">Intercept before execution</text>
    </g>

    <!-- ActionGuard -->
    <g class="component" data-id="actionguard" data-type="security">
      <rect x="800" y="380" width="160" height="110" rx="8" fill="#1E3A5F" stroke="#22C55E" stroke-width="3"/>
      <circle cx="815" cy="395" r="6" fill="#22C55E" filter="url(#glow)"/>
      <text x="880" y="412" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="13" font-weight="700"
            fill="#E8E2DE">ActionGuard</text>
      <text x="880" y="432" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="10"
            fill="#22C55E">action_guard.py</text>
      <line x1="815" y1="445" x2="945" y2="445" stroke="#22C55E" stroke-width="1" opacity="0.3"/>
      <text x="880" y="462" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9"
            fill="#6B7280">Pattern validation</text>
      <text x="880" y="478" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9"
            fill="#6B7280">ALLOW / DENY</text>
    </g>

    <!-- MCP Tools -->
    <g class="component" data-id="tools" data-type="tools">
      <rect x="320" y="520" width="280" height="90" rx="8" fill="#2A2624" stroke="#B87333" stroke-width="2"/>
      <circle cx="335" cy="535" r="5" fill="#22C55E"/>
      <text x="460" y="550" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="12" font-weight="600"
            fill="#E8E2DE">SLATE MCP Tools</text>
      <line x1="335" y1="562" x2="585" y2="562" stroke="#1B3A4B" stroke-width="1"/>

      <!-- Tool list -->
      <text x="345" y="580" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#98C1D9">slate_status</text>
      <text x="425" y="580" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#98C1D9">slate_workflow</text>
      <text x="520" y="580" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#98C1D9">slate_ai</text>
      <text x="345" y="598" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#98C1D9">slate_gpu</text>
      <text x="425" y="598" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#98C1D9">slate_runner</text>
      <text x="520" y="598" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#98C1D9">slate_spec_kit</text>
    </g>

    <!-- Execution -->
    <g class="component" data-id="execution" data-type="output">
      <rect x="280" y="630" width="160" height="50" rx="6" fill="#3D2914" stroke="#B87333" stroke-width="2"/>
      <circle cx="295" cy="645" r="4" fill="#22C55E"/>
      <text x="360" y="658" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="11" font-weight="600"
            fill="#E8E2DE">Tool Execution</text>
      <text x="360" y="673" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9"
            fill="#CAC4BF">Safe operations only</text>
    </g>

    <!-- Denied Action Bucket -->
    <g class="component" data-id="denied" data-type="error">
      <rect x="920" y="620" width="100" height="50" rx="6" fill="none" stroke="#EF4444" stroke-width="2" stroke-dasharray="4,4"/>
      <text x="970" y="648" text-anchor="middle"
            font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="11" font-weight="600"
            fill="#EF4444">BLOCKED</text>
      <text x="970" y="665" text-anchor="middle"
            font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9"
            fill="#6B7280">Logged + Denied</text>
    </g>
  </g>

  <!-- Permission Flow Labels -->
  <g class="flow-labels">
    <text x="190" y="195" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#B85A3C">Plugin load</text>
    <text x="250" y="345" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#B87333">MCP init</text>
    <text x="430" y="400" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#B87333">Hook intercept</text>
    <text x="755" y="400" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#22C55E">Validate</text>
    <text x="760" y="555" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#22C55E">ALLOW</text>
    <text x="1005" y="550" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#EF4444">DENY</text>
  </g>

  <!-- Permission Bypass Indicator -->
  <g class="bypass-indicator" transform="translate(680, 100)">
    <rect x="0" y="0" width="320" height="100" rx="8" fill="#0D1B2A" stroke="#22C55E" stroke-width="2"/>
    <text x="160" y="22" text-anchor="middle" font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="11" font-weight="600" fill="#22C55E">SLATE Operator Behavior</text>
    <line x1="20" y1="32" x2="300" y2="32" stroke="#22C55E" stroke-width="1" opacity="0.3"/>
    <text x="25" y="50" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#CAC4BF">Permission bypass enabled</text>
    <text x="25" y="65" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#CAC4BF">ActionGuard validates all commands</text>
    <text x="25" y="80" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#CAC4BF">Container isolation for execution</text>
    <text x="25" y="95" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#22C55E">profile: slate-operator</text>
  </g>

  <!-- Title -->
  <text x="40" y="45"
        font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="24" font-weight="700"
        fill="#E8E2DE">Claude Code SDK Integration</text>

  <!-- Subtitle -->
  <text x="40" y="65"
        font-family="'Consolas', 'JetBrains Mono', monospace" font-size="11"
        fill="#6B7280">Plugin architecture with MCP tools and ActionGuard security hooks</text>

  <!-- Legend -->
  <g class="legend" transform="translate(40, 640)">
    <text x="0" y="0" font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="10" font-weight="600" fill="#CAC4BF">Legend</text>
    <rect x="0" y="12" width="12" height="12" rx="2" fill="#3D1E10" stroke="#B85A3C" stroke-width="1"/>
    <text x="18" y="22" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#CAC4BF">Claude</text>
    <rect x="70" y="12" width="12" height="12" rx="2" fill="#2A2624" stroke="#B87333" stroke-width="1"/>
    <text x="88" y="22" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#CAC4BF">SLATE Core</text>
    <rect x="160" y="12" width="12" height="12" rx="2" fill="#1E3A5F" stroke="#22C55E" stroke-width="1"/>
    <text x="178" y="22" font-family="'Consolas', 'JetBrains Mono', monospace" font-size="9" fill="#CAC4BF">Security</text>
  </g>

  <!-- Version Badge -->
  <g class="version-badge">
    <rect x="940" y="40" width="90" height="24" rx="12" fill="#B87333"/>
    <text x="985" y="56" text-anchor="middle"
          font-family="'Segoe UI', 'Inter', system-ui, sans-serif" font-size="11" font-weight="600"
          fill="#FFFFFF">v2.6</text>
  </g>
</svg>
